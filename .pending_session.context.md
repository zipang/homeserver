# Session Context: NixOS Upgrade & Secret Management

## 1. NixOS Upgrade (Target: 25.11)
- [x] **flake.nix** updated to `nixos-25.11`.
- [x] **update-nix** alias in `modules/system/core.nix` updated to include `nix flake update`.
- [ ] **Deployment**: User needs to run `update-nix` on SKYLAB.
- [ ] **Verification**: Confirm kernel version (`uname -a`) and core services (Docker, NFS).
- [ ] **Restore copyparty**: Reactivate copyparty after a successful upgrade.

## 2. Transition to agenix (Next Steps)
**Objective**: Replace plaintext password files with `agenix`.

### Pending Information
- [ ] User Public SSH Key.
- [ ] SKYLAB Host Public Key (`/etc/ssh/ssh_host_ed25519_key.pub`).

### Plan
1. Add `agenix` to `flake.nix` inputs.
2. Create `secrets/secrets.nix`.
3. Encrypt `secrets/copyparty-zipang.age`.
4. Configure modules to use encrypted secrets.
