# Tmux Quick Start Guide

`tmux` is a terminal multiplexer that allows you to manage multiple terminal sessions in a single window. It is essential for a home server because it keeps your processes running even if your SSH connection drops.

## Configuration Reference

The complete list of available options for the `programs.tmux` module can be found in the [official NixOS Options Search](https://search.nixos.org/options?channel=25.11&query=programs.tmux).

## Nix Configuration Template

On SKYLAB, `tmux` is configured via `modules/programs/tmux.nix`:

```nix
{ pkgs, ... }: {
  programs.tmux = {
    enable = true;
    clock24 = true;
    historyLimit = 10000;
    mouse = true;
    shortcut = "b"; # Default prefix (Ctrl+b)
    
    # Extra configuration
    extraConfig = ''
      # Reload config with Prefix + r
      bind r source-file /etc/tmux.conf \; display "Reloaded!"
      
      # Use Alt-arrow keys without prefix key to switch panes
      bind -n M-Left select-pane -L
      bind -n M-Right select-pane -R
      bind -n M-Up select-pane -U
      bind -n M-Down select-pane -D
    '';
  };
}
```

## The Prefix Key

All `tmux` commands are preceded by the **Prefix key**: `Ctrl + b`.
In this guide, `Prefix` means press `Ctrl` and `b` together, release them, then press the next key.

## Essential Shortcuts

### Session Management
* `tmux` : Start a new session.
* `Prefix` then `d` : **Detach** from the current session (leave it running in background).
* `tmux attach` : Re-attach to the last active session.

### Window Management (Tabs)
* `Prefix` then `c` : **Create** a new window.
* `Prefix` then `,` : **Rename** the current window.
* `Prefix` then `n` / `p` : Move to **Next** / **Previous** window.
* `Prefix` then `X` : **Kill** the current window.

### Pane Management (Splits)
* `Prefix` then `|` : Split **Vertically**.
* `Prefix` then `-` : Split **Horizontally**.
* `Alt + Arrows` : Move between panes (no prefix needed).
* `Prefix` then `x` : **Close** the current pane.
* `Prefix` then `z` : **Zoom** (maximize) current pane / Toggle back.

## Configuration Details
On SKYLAB, `tmux` is configured with:
* Mouse support enabled (click to select panes, scroll to see history).
* 24h clock.
* History limit of 10,000 lines.
* `Prefix + r` to reload the configuration.
